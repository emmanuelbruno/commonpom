language: bash
sudo: required
cache:
  directories:
  - "$HOME/.m2/repository"
  - "$HOME/.sonar/cache"
before_script:
- cp .travis.settings.xml $HOME/.m2/settings.xml
script:
- test  ${TRAVIS_BRANCH} != "master" && ./.travis.scripts/mvn.sh build-helper:parse-version
  versions:set -DgenerateBackupPoms=false -DnewVersion='${parsedVersion.majorVersion}.${parsedVersion.minorVersion}.${parsedVersion.incrementalVersion}-'${TRAVIS_BRANCH}-${TRAVIS_BUILD_NUMBER}
- "./.travis.scripts/mvn.sh -Dmaven.site.skip=true clean verify -B -e -V"
after_success:
- test  ${TRAVIS_BRANCH} = "master" -o ${TRAVIS_BRANCH} = "release" -o ${TRAVIS_BRANCH}
  = "devel" && ./.travis.scripts/mvn.sh sonar:sonar
- test  ${TRAVIS_BRANCH} = "master" && ./.travis.scripts/mvn.sh -P github-site site
deploy:
  provider: script
  script: "./.travis.scripts/mvn.sh -Dmaven.site.skip=true -P stage-devel-nexus deploy"
  skip_cleanup: true
  on:
    all_branches: true
after_failure:
- find target/it -name *.log -exec echo {} \; -exec cat {} \;
branches:
  except:
  - gh-pages
notifications:
  email:
    recipients:
    - emmanuel.bruno@univ-tln.fr
    on_success: never
    on_failure: never
  slack:
    secure: mxSioTACsN0R7yPDVNVhaxhh8/c4WUwJWd6CP2rxUTV2rP0P+NdLP24J1Pyl8zUHLhAkl4OaXA0k5lvuNFa7SygmUt8lnTm3CwzokM3H89Z3LIyi2Y1Qj+lYRkvFkyOAlqvrGt7ukN4kRKfGjaZDqSBleoWYWvY5Q0zY+OFZhutX8lNiuGpqaBQ4cUxa0rGnZxFvGoYOzDx3MwhgdJ1nP5GxTVfCpAMDXSyqGepP5o82gG5UCd0REKI7wsq93TrQgkQQ5LSfBcr9IymVvoES2JJF7V2ETRoAE9zulew08DUkVtBkgGZyXBd7T5uxkpvzigSm87D5yPuF+YxLXFLhD//MR01/uHk/Cg60StqrxKj92On9+D0got9IRQMiE3BWVQEPnLDtbvXzwJeqdSOuS7aEETN2Fq35SUZMKR19HI29rlYu6fSgqhYVvxlv2Hx8DKkrtfkuFVzDkrxhUZasZs2+7jBzR4qitvF4vSSVosNb9z4YVN1Axu0EjSo2DyLMRA6dEIVP+/T8ZbV4cI/KLAluDeC/tJ2/jkfKTxKbCO+4oq4bNnE3Ql+RUCdJnkm9gDjdSqIRBuMTbQlDuZLQ5utb5uIKG1d3TfSqwYyEzCl9dfggF0g2xTDBP7F4rq06KL5k1enVfz4u/IBN5tr1Rg2n0nl2TokKW0eIEdkME/s=
env:
  global:
  - secure: Su60HEHpztuJkdfcTQkZNamPg6pGNPNkumBAMvIZTlUr9WP4L/6TxGZLR6N1Ov8dxIvb4dxSU6vfJp76g1m6botN1KFfCiUu2ty9vciaXuz7fj8WJq71N5zEW0yBTEu4/+Xzb71QY5w0bY5dvxLl7TVmoqeacZSIQNZWaKXRPKMXVhV+b6JcsJj/uVADEY+LRGCY81Oy5KhkCL9WbNl8j0/U5f5Fvdf3eTI/3aFG7XxreidXtoTCzMvaXAUSCXTw9TC1wLzZDHFC1PkhoLkc3wiao77KrPLnaJ1NCHcA6p9BRChRI4p9v4s6OG2XkTWX4sw2f/2sPsXehCO/t9FFNzL2jeof8Xt63Z+PoYXKbpCOdGUMDROoEvHohpNhmHEGfhnMhOxxDsEG0pjxpB8B+hsnB9UWFUwLutEuh76hNrRzfB2qBYMAIylqFMZSbg8/0Hh6xQgK2aUwb4gtQxHj0NpRa7rnn5Rdu1cnMAqxUvcki7MtmzxNZbw7/a0GildmvUC74xuXSXcGLBeIE6Np4ZbvRQvb6RlgDGzQrUxvqIAjHyXBZpm6rrp4vHuedzoQXZFCiX0mi1hBWlyEM7t6er3mMSCogHpO8FHRljmZZiOJJbRcaD6+L6tA/Tvs7M1sHdgTY8vOa2GDyU/w+shV3iwLw1WLXJDt7dmW0+K0b7I=
  - secure: nhQjenrseKFDQWyoqk3O5RmWzqrvZe6uvS4ScsprfsPJlXWK92GsWZJgK4dTkb6LxiVfITEhda4qeDZQuKEAtzTekeT5L76dXADT+2LnwtIbYINrIsS0VeZaCp/Df3TJdRIScVemfIHu15oaL+Ae2dmPOsmaw8ruhR9Sjv1Yd8sPdZcgkyEsFu9pOfAiuUQC9HPjtQRhS/xc1niBm727KjAF7CoMdQ682rs4+VvOsRC1y0bk3NcWeulHstzOZwpSSrEU4P4YDgWu3BtXTnh7M/sn+JX5xyL8SFCzUtRZcaPzqNnK/LZxOkrNlX8dU0o+i1e8bOuiJLPxbfNGKCvnjkDgJ9fyijmfJtOJ9hHqQbXszA1GVheGcIlBhKz0NRwbjrmLrTikV9ZYSZgVIzZMMunz1R/vCjTPBiV0mFgFAakpr8Kf620ATvv+w7dlf8Z5HJpFYgNB32MYjsfbom1ooyFCP833YN9lyR6CJiAb6rwjWHfqOpr98Kp1EhNLD0BmvzW+541iUdEah3ESMGn8VmlrabchYil8tmgf6kjcxfIsnMBCCBr4yJ6RlZpDY4rE4evn1zLsFD7A+7ehtnj97cqm+AgHFsH1ssYWNACrYqWQTL6UMp5mGy7tQA3GV8VlNq/K4mmpClV0fNvXIgp1uarRvpiVDWKBaoLNg0JUAZY=
  - secure: HJjWrbc8RXFupCPzKuBGq83xCb6rtHCvQqxH3mOVGLGi+ridVZljbgNS792O6qeJPvHsmYCzuwjBq1Azq2RMqbpx9L++DXO49FDUJobw70PSOLcwXuHaNVF49W7CUeWT+243APx3c/No1bn7jX+BZg66xh9S6+sMMbUA0LY0gj+oVl3p4ETlIvIrR82DXaZblkYhYikjZ8AAX1/Bhvk4cSGBSzP8biSLG+DlhuTNYRBOENJ0/30d/Oxhvp4wRtyxJ69dKjm5DKLEAxYqr25aPVb8ZZ8FexOMIp8EBYnoakpZ5zF3yidZ15jWHb8hJp9dgCZ3l5QXHWP24Ki/fS7pv7bJs7R7hGP67ry6xxwVE54P/GEafL20jszv1FzHduUCKwvvO+6FXINDDwHyBLOF4oJqFrW+MzdP5/NXq7moxrBTCO+Ce75CN8A5AJkyrWSFoXzy6mIMT/8JeXdjudbm03z746/MXYvKpo7zpVk9pSpGHxQuY0sGCT0fqMytObpymK+xkmeuOHYjqdwm2HPauFVwvyPKMBzcalr/iYF9m3IquBTsGGxzicjdULMwO6phgc9ZP+KSUMcwvuie34nZoj4TvB4eDyN+1Wi73n4j0NWsULXkCuurcIcHtbU6WKFpz+5kusnNGPmcVX+8J/AntSOC6RoZA3UeFOeEXT/glow=
  - secure: L5BinVRiXfyVorFxsKzdXP+qBZpzp75P8zX8sVshozZO6TC3P6uXrScrNHmChpdi4oX8yDM96DQBhMcw6c01w7Ze6/LdVbUlk2zEt2YygfQoc9A7mnRNK7uh7rDHKvKnf+PIngxzj4P46CsXaof6gGwhUf68UxIQ8cV0HVOKv6HujlxaVU9Cpd1q1poNaHrU7mlGvF5HWUFunry8KRSeL/LD7XgQ+OnHgRMVuEsAj7LXOV5IL9jNkCitEEkdq72kGclX6xPlWJdqZ8CSk3udAihaZKuMBrT3ml7byPbiLjTSHndyJLaypztS/i4zAmvIH6PjiQpihmIDVTSmXVA6nEAmGNYmQHEMjZP8zGMLlqsjHIuTgDfDiQc0JZGgEhy9JePUoQ/7R45+Ly6QgWFHk3CrsD4irup71uTJvNwXYtqoWrHS/w9zRxwMrAaGffU3iBtEPtBJ1aWtX2xjW6UnWeVtCIiT1wpinaykKnPsNKRsBrk61g8lJD67TyzPzqWRniiFDBx9eS7PrvJYc2OwePMOoVsmboywY2FIEazhqk/arz8k7dESyoHnrF9nDnUPsG+9e6zj+c7e7i8stp0U19WEameP4gVlWSLM4XHOWDrF0wZvAilOKypC1C+GIWDbTficcXhQxZT1uXoQhCsugaTzhcRW9njS9wXXU2G1xho=
  - secure: eJXDnlaIK7A0Eq5q1KbF4zTjiJV+FjEbyOWx4/tvqMGjiytORwnBBE5JrnBz28Zvvm3HvzFVZq55yO1DuRJrNiEWX60Vza6poEjr9YT3nFdJBon4ci2bWizqVu2niVNagWSWRdyyLGnL8/j6+rXspCz30G414f1Og0OSxGXNfnFstW1jepeDxsTaqRBzaD1ArA7qQF+fJPcGOJAIFSX9goxv4ki6JOKTSfUhLkX6lS98djjyDGsNV9hCWQF1lwM0H9Rv/0GvEtm8QAQGH9ufhvnJqOcieC6r+N4IoS/IQ7wmKlVKGqNJo1twDQUqNuwmESiotFfoB+FQ/HyEzadhCEtzVbzOCDUJ/6EvBLfVzdCWcVH3PWyrVvWJVLX9DbGwCbrOcx9iAkgb7OKEc5ajvtSvnZZW5DhbW3UoU4lOJgT61YZO1kMMbIV4mW4LeIR+EN+dQi5LzYoapNao0sQgsDzLqosoj8o8u3s7mNFPzwljKd4sJor/KTcLNsU2eqDczvqOhP6uA0PsT0yLRPYAVZMbDVnuhySHV+W+2g62x0CQYHyDuxW4qhXEWipWdJ53eQkfDUIILpj7HzWnycP4oRkeJaz0g3Qqx1jm/cv4viXcKHGEumWI8R134IUkYzjuSI6DGInBfixcucQRnJBjRlIv4O2VxcF9YNYQLaEW6Y8=
  - secure: oiHCBBvU2Ud6KpCDCJr8AQ/c2mfZR7yFxzQMVIrAzSsULm1gXi6xPynCGPqr5PK9ZZ8JdhsFWAxYJAr3tU60sRgUPgw9zzuvY/qPBjrAmB49CIVl34XYa0Q4qpRREWGuPhhMYp6AI1M85iWITv3IMJFeWcy3yn2wghkwg/J2j02oscrOPTqpv81rhHu/MYetwE8Th0bBrDqG2COtfe1A8CIQpZjhZ8/xwFc+zqIEVFwbuFQIyHcYLni/hU6ksXHXea2gOeGKtaIMYAN54kNnBgxewxQf4BOXbNRv1mj3cNNxmRKtJRMOzL5qyzmzXuU2moAPfVp+Q0wldWFEZ6HOONmmIfHavd8knRTcsxlqDVBm4qpn2URq3xpMMRoRpjhRLNQ6W/DQbY1H+rZpoNvSHTLELnjgld6I4R6kLtiTh2VMwI06ZJYQ7vPOQZ1a4w0acyWKmnwxRYkA1xii0G36YXOGnrw9RUGVjcaRvMi229KZuFvgPe8wHEDdwu1aaWZftyNi3wo+l6YBJhiWkwpapDdiVM2cHHia4LqnsPNXL3BiHaOxb//RER/VUikm5WD0ZNatAwEHFOuL3rVrtMobZ/slm88ZhN/7hNrFC8wdBfSJeM5DirkuL3yiDZbnfo/ZxonMdrgQOsZTNSoqnSfIcDftBrL7MTkc+1qxHikiL/4=
